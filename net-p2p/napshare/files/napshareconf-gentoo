#!/bin/bash

#
# Modification History
#
# 2004-December-13    Jason Rohrer
# Changed to use partial makefiles directly from the minorGems project.
#
# 2004-December-28    Nate E
# Changes for update to MUTE V.4 code
#
# 2005-February-20	Ycarus
# Change for gentoo
#

# use partial makefiles from minorGems project
makefileMinorGems="../minorGems/build/Makefile.minorGems"
makefileMinorGemsTargets="../minorGems/build/Makefile.minorGems_targets"

unixdir="otherApps/fileSharing/userInterface/wxWindows/build/unix"
rm -fr $unixdir
macdir="otherApps/fileSharing/userInterface/wxWindows/build/mac"
rm -fr $macdir

# only needed for win32 at the moment (-lwsock32, -DWIN_32)
extraWxLibs=""
platformInclude=""
windir="otherApps/fileSharing/userInterface/wxWindows/build/windows"
rm -fr $windir

rm -f Makefile.temp
echo "# Auto-generated by MUTE/configure for GNU/Linux X86 platform.  Do not edit manually." > Makefile.temp
rm -f layers/messageRouting/Makefile
cat Makefile.temp Makefile.GnuLinuxX86 Makefile.common $makefileMinorGems layers/messageRouting/Makefile.all $makefileMinorGemsTargets > layers/messageRouting/Makefile
rm -f layers/pointToPoint/Makefile
cat Makefile.temp Makefile.GnuLinuxX86 Makefile.common $makefileMinorGems layers/pointToPoint/Makefile.all $makefileMinorGemsTargets > layers/pointToPoint/Makefile
rm -f layers/fileTransfer/Makefile
cat Makefile.temp Makefile.GnuLinuxX86 Makefile.common $makefileMinorGems layers/fileTransfer/Makefile.all $makefileMinorGemsTargets > layers/fileTransfer/Makefile
rm -f userInterface/fileTransferWebInterface/Makefile
cat Makefile.temp Makefile.GnuLinuxX86 Makefile.common $makefileMinorGems userInterface/fileTransferWebInterface/Makefile.all $makefileMinorGemsTargets > userInterface/fileTransferWebInterface/Makefile
rm -f userInterface/textBased/Makefile
cat Makefile.temp Makefile.GnuLinuxX86 Makefile.common $makefileMinorGems userInterface/textBased/Makefile.all $makefileMinorGemsTargets > userInterface/textBased/Makefile
rm -f otherApps/fileSharing/Makefile
cat Makefile.temp Makefile.GnuLinuxX86 Makefile.common $makefileMinorGems otherApps/fileSharing/Makefile.all $makefileMinorGemsTargets > otherApps/fileSharing/Makefile
rm -f otherApps/fileSharing/userInterface/textBased/Makefile
cat Makefile.temp Makefile.GnuLinuxX86 Makefile.common $makefileMinorGems otherApps/fileSharing/userInterface/textBased/Makefile.all $makefileMinorGemsTargets > otherApps/fileSharing/userInterface/textBased/Makefile
rm -f crypto/Makefile
cat Makefile.temp Makefile.GnuLinuxX86 Makefile.common $makefileMinorGems crypto/Makefile.all $makefileMinorGemsTargets > crypto/Makefile
rm Makefile.temp
mkdir $unixdir
wxConfigDefaultPath="/usr/bin/wx-config"
wxConfigPath="$wxConfigDefaultPath"
echo -e "# Auto-generated by MUTE/configure for a generic platform." \
     "\n# Do not edit manually.\n" \
     "\nWX_CONFIG_LOCATION = $wxConfigPath" \
     "\nPLATFORM_INCLUDE = $platformInclude" \
     "\nEXTRA_WX_LIBS = $extraWxLibs\n" > Makefile.temp

rm -f otherApps/fileSharing/userInterface/wxWindows/Makefile
cat Makefile.temp otherApps/fileSharing/userInterface/wxWindows/Makefile.all > otherApps/fileSharing/userInterface/wxWindows/Makefile
rm Makefile.temp
exit
